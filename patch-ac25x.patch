diff -Nru patch-2.5.4/m4/ccstdc.m4 patch-2.5.4.new/m4/ccstdc.m4
--- patch-2.5.4/m4/ccstdc.m4	Wed Jun 16 13:11:07 1999
+++ patch-2.5.4.new/m4/ccstdc.m4	Thu Jan  1 01:00:00 1970
@@ -1,95 +0,0 @@
-# The following is taken from automake 1.4,
-# except that it prefers the compiler option -Ae to "-Aa -D_HPUX_SOURCE"
-# because only the former supports 64-bit integral types on HP-UX 10.20.
-
-## ----------------------------------------- ##
-## ANSIfy the C compiler whenever possible.  ##
-## From Franc,ois Pinard                     ##
-## ----------------------------------------- ##
-
-# serial 2
-
-# @defmac AC_PROG_CC_STDC
-# @maindex PROG_CC_STDC
-# @ovindex CC
-# If the C compiler in not in ANSI C mode by default, try to add an option
-# to output variable @code{CC} to make it so.  This macro tries various
-# options that select ANSI C on some system or another.  It considers the
-# compiler to be in ANSI C mode if it handles function prototypes correctly.
-#
-# If you use this macro, you should check after calling it whether the C
-# compiler has been set to accept ANSI C; if not, the shell variable
-# @code{am_cv_prog_cc_stdc} is set to @samp{no}.  If you wrote your source
-# code in ANSI C, you can make an un-ANSIfied copy of it by using the
-# program @code{ansi2knr}, which comes with Ghostscript.
-# @end defmac
-
-AC_DEFUN(AM_PROG_CC_STDC,
-[AC_REQUIRE([AC_PROG_CC])
-AC_BEFORE([$0], [AC_C_INLINE])
-AC_BEFORE([$0], [AC_C_CONST])
-dnl Force this before AC_PROG_CPP.  Some cpp's, eg on HPUX, require
-dnl a magic option to avoid problems with ANSI preprocessor commands
-dnl like #elif.
-dnl FIXME: can't do this because then AC_AIX won't work due to a
-dnl circular dependency.
-dnl AC_BEFORE([$0], [AC_PROG_CPP])
-AC_MSG_CHECKING(for ${CC-cc} option to accept ANSI C)
-AC_CACHE_VAL(am_cv_prog_cc_stdc,
-[am_cv_prog_cc_stdc=no
-ac_save_CC="$CC"
-# Don't try gcc -ansi; that turns off useful extensions and
-# breaks some systems' header files.
-# AIX			-qlanglvl=ansi
-# Ultrix and OSF/1	-std1
-# HP-UX			-Aa -D_HPUX_SOURCE
-# SVR4			-Xc -D__EXTENSIONS__
-for ac_arg in "" -qlanglvl=ansi -std1 -Ae "-Aa -D_HPUX_SOURCE" "-Xc -D__EXTENSIONS__"
-do
-  CC="$ac_save_CC $ac_arg"
-  AC_TRY_COMPILE(
-[#include <stdarg.h>
-#include <stdio.h>
-#include <sys/types.h>
-#include <sys/stat.h>
-/* Most of the following tests are stolen from RCS 5.7's src/conf.sh.  */
-struct buf { int x; };
-FILE * (*rcsopen) (struct buf *, struct stat *, int);
-static char *e (p, i)
-     char **p;
-     int i;
-{
-  return p[i];
-}
-static char *f (char * (*g) (char **, int), char **p, ...)
-{
-  char *s;
-  va_list v;
-  va_start (v,p);
-  s = g (p, va_arg (v,int));
-  va_end (v);
-  return s;
-}
-int test (int i, double x);
-struct s1 {int (*f) (int a);};
-struct s2 {int (*f) (double a);};
-int pairnames (int, char **, FILE *(*)(struct buf *, struct stat *, int), int, int);
-int argc;
-char **argv;
-], [
-return f (e, argv, 0) != argv[0]  ||  f (e, argv, 1) != argv[1];
-],
-[am_cv_prog_cc_stdc="$ac_arg"; break])
-done
-CC="$ac_save_CC"
-])
-if test -z "$am_cv_prog_cc_stdc"; then
-  AC_MSG_RESULT([none needed])
-else
-  AC_MSG_RESULT($am_cv_prog_cc_stdc)
-fi
-case "x$am_cv_prog_cc_stdc" in
-  x|xno) ;;
-  *) CC="$CC $am_cv_prog_cc_stdc" ;;
-esac
-])
diff -Nru patch-2.5.4/m4/d-ino.m4 patch-2.5.4.new/m4/d-ino.m4
--- patch-2.5.4/m4/d-ino.m4	Wed Jan 27 05:51:43 1999
+++ patch-2.5.4.new/m4/d-ino.m4	Sat Aug 11 12:53:08 2001
@@ -5,7 +5,7 @@
 dnl Check whether struct dirent has a member named d_ino.
 dnl
 
-AC_DEFUN(jm_STRUCT_DIRENT_D_INO,
+AC_DEFUN([jm_STRUCT_DIRENT_D_INO],
   [AC_REQUIRE([AC_HEADER_DIRENT])dnl
    AC_CACHE_CHECK([for d_ino member in directory struct],
 		  jm_cv_struct_dirent_d_ino,
diff -Nru patch-2.5.4/m4/inttypes_h.m4 patch-2.5.4.new/m4/inttypes_h.m4
--- patch-2.5.4/m4/inttypes_h.m4	Sun Jan 10 23:47:01 1999
+++ patch-2.5.4.new/m4/inttypes_h.m4	Sat Aug 11 12:53:31 2001
@@ -5,7 +5,7 @@
 # Define HAVE_INTTYPES_H if <inttypes.h> exists,
 # doesn't clash with <sys/types.h>, and declares uintmax_t.
 
-AC_DEFUN(jm_AC_HEADER_INTTYPES_H,
+AC_DEFUN([jm_AC_HEADER_INTTYPES_H],
 [
   AC_CACHE_CHECK([for inttypes.h], jm_ac_cv_header_inttypes_h,
   [AC_TRY_COMPILE(
diff -Nru patch-2.5.4/m4/largefile.m4 patch-2.5.4.new/m4/largefile.m4
--- patch-2.5.4/m4/largefile.m4	Tue Aug 17 21:56:44 1999
+++ patch-2.5.4.new/m4/largefile.m4	Sat Aug 11 12:53:03 2001
@@ -9,7 +9,7 @@
 
 dnl Internal subroutine of AC_SYS_LARGEFILE.
 dnl AC_SYS_LARGEFILE_FLAGS(FLAGSNAME)
-AC_DEFUN(AC_SYS_LARGEFILE_FLAGS,
+AC_DEFUN([AC_SYS_LARGEFILE_FLAGS],
   [AC_CACHE_CHECK([for $1 value to request large file support],
      ac_cv_sys_largefile_$1,
      [ac_cv_sys_largefile_$1=`($GETCONF LFS_$1) 2>/dev/null` || {
@@ -32,7 +32,7 @@
 
 dnl Internal subroutine of AC_SYS_LARGEFILE.
 dnl AC_SYS_LARGEFILE_SPACE_APPEND(VAR, VAL)
-AC_DEFUN(AC_SYS_LARGEFILE_SPACE_APPEND,
+AC_DEFUN([AC_SYS_LARGEFILE_SPACE_APPEND],
   [case $2 in
    no) ;;
    ?*)
@@ -44,7 +44,7 @@
 
 dnl Internal subroutine of AC_SYS_LARGEFILE.
 dnl AC_SYS_LARGEFILE_MACRO_VALUE(C-MACRO, CACHE-VAR, COMMENT, CODE-TO-SET-DEFAULT)
-AC_DEFUN(AC_SYS_LARGEFILE_MACRO_VALUE,
+AC_DEFUN([AC_SYS_LARGEFILE_MACRO_VALUE],
   [AC_CACHE_CHECK([for $1], $2,
      [$2=no
 changequote(, )dnl
@@ -63,7 +63,7 @@
      AC_DEFINE_UNQUOTED([$1], [$]$2, [$3])
    fi])
 
-AC_DEFUN(AC_SYS_LARGEFILE,
+AC_DEFUN([AC_SYS_LARGEFILE],
   [AC_REQUIRE([AC_CANONICAL_HOST])
    AC_ARG_ENABLE(largefile,
      [  --disable-largefile     omit support for large files])
diff -Nru patch-2.5.4/m4/malloc.m4 patch-2.5.4.new/m4/malloc.m4
--- patch-2.5.4/m4/malloc.m4	Sun Feb  7 06:35:28 1999
+++ patch-2.5.4.new/m4/malloc.m4	Sat Aug 11 12:53:19 2001
@@ -5,7 +5,7 @@
 dnl If it doesn't, arrange to use the replacement function.
 dnl
 
-AC_DEFUN(jm_FUNC_MALLOC,
+AC_DEFUN([jm_FUNC_MALLOC],
 [
  dnl xmalloc.c requires that this symbol be defined so it doesn't
  dnl mistakenly use a broken malloc -- as it might if this test were omitted.
diff -Nru patch-2.5.4/m4/protos.m4 patch-2.5.4.new/m4/protos.m4
--- patch-2.5.4/m4/protos.m4	Mon Oct  5 06:29:36 1998
+++ patch-2.5.4.new/m4/protos.m4	Thu Jan  1 01:00:00 1970
@@ -1,25 +0,0 @@
-## ------------------------------- ##
-## Check for function prototypes.  ##
-## From Franc,ois Pinard           ##
-## ------------------------------- ##
-
-# serial 1
-
-AC_DEFUN(AM_C_PROTOTYPES,
-[AC_REQUIRE([AM_PROG_CC_STDC])
-AC_REQUIRE([AC_PROG_CPP])
-AC_MSG_CHECKING([for function prototypes])
-if test "$am_cv_prog_cc_stdc" != no; then
-  AC_MSG_RESULT(yes)
-  AC_DEFINE(PROTOTYPES,1,[Define if compiler has function prototypes])
-  U= ANSI2KNR=
-else
-  AC_MSG_RESULT(no)
-  U=_ ANSI2KNR=./ansi2knr
-  # Ensure some checks needed by ansi2knr itself.
-  AC_HEADER_STDC
-  AC_CHECK_HEADERS(string.h)
-fi
-AC_SUBST(U)dnl
-AC_SUBST(ANSI2KNR)dnl
-])
diff -Nru patch-2.5.4/m4/realloc.m4 patch-2.5.4.new/m4/realloc.m4
--- patch-2.5.4/m4/realloc.m4	Sun Feb  7 06:36:21 1999
+++ patch-2.5.4.new/m4/realloc.m4	Sat Aug 11 12:52:46 2001
@@ -5,7 +5,7 @@
 dnl If it doesn't, arrange to use the replacement function.
 dnl
 
-AC_DEFUN(jm_FUNC_REALLOC,
+AC_DEFUN([jm_FUNC_REALLOC],
 [
  dnl xmalloc.c requires that this symbol be defined so it doesn't
  dnl mistakenly use a broken realloc -- as it might if this test were omitted.
diff -Nru patch-2.5.4/m4/utimbuf.m4 patch-2.5.4.new/m4/utimbuf.m4
--- patch-2.5.4/m4/utimbuf.m4	Sun Jan 10 23:51:01 1999
+++ patch-2.5.4.new/m4/utimbuf.m4	Sat Aug 11 12:53:14 2001
@@ -6,7 +6,7 @@
 dnl usually in <utime.h>.
 dnl Some systems have utime.h but don't declare the struct anywhere.
 
-AC_DEFUN(jm_STRUCT_UTIMBUF,
+AC_DEFUN([jm_STRUCT_UTIMBUF],
 [
   AC_CHECK_HEADERS(utime.h)
   AC_REQUIRE([AC_HEADER_TIME])
--- patch-2.5.4/Makefile.in~	Mon Aug 30 08:37:54 1999
+++ patch-2.5.4/Makefile.in	Sat Aug 11 12:57:21 2001
@@ -120,9 +120,9 @@
 	cd $(srcdir) && rm -f config.hin && autoheader
 
 M4DIR = $(srcdir)/m4
-ACINCLUDE_INPUTS = $(M4DIR)/ccstdc.m4 $(M4DIR)/d-ino.m4 \
+ACINCLUDE_INPUTS = $(M4DIR)/d-ino.m4 \
   $(M4DIR)/inttypes_h.m4 $(M4DIR)/largefile.m4 $(M4DIR)/malloc.m4 \
-  $(M4DIR)/protos.m4 $(M4DIR)/realloc.m4 $(M4DIR)/utimbuf.m4
+  $(M4DIR)/realloc.m4 $(M4DIR)/utimbuf.m4
 
 $(srcdir)/aclocal.m4: $(ACINCLUDE_INPUTS)
 	cat $(ACINCLUDE_INPUTS) >$(srcdir)/aclocal.m4
